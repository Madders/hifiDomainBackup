# hifiDomainBackup
*** This is a work in progress

This is intended to be a utility to take a backup from a High Fidelity based domain server and download all the linked models and assets locally along with update the backup file to new relative locations.

That's the intension, but for the moment High Fidelity will be switching off their servers at end of Sept 2020, so I've thrown together an initial version which simply downloads any of your domain assets that are currently on the High Fidelity content shares.

Given a domain backup file, this code will find and download all the assets stored on the High Fidelity shares. If any of those files are FBX's, it will also parse through for textures that aren't embedded and download those as well.

This was put together very quickly, with very little testing, so hopefully it'll be of some use to someone.

## Prerequisites

<ol>
<li><a href="https://code.visualstudio.com/" data-linktype="external">Visual Studio Code</a> with the <a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp" data-linktype="external">C# extension</a> installed. For information about how to install extensions on Visual Studio Code, see <a href="https://code.visualstudio.com/docs/editor/extension-gallery" data-linktype="external">VS Code Extension Marketplace</a>.</li>
<li>The <a href="https://dotnet.microsoft.com/download" data-linktype="external">.NET Core 3.1 SDK or later</a></li>
</ol>

## Usage

To use fire up the code in VSCODE (currently only tested / working on Linux). Update the constants at the top of Program.cs to match your locations:

* backupFilePath = the location of you domain backup file. This is the full path to a domain content backup file generated by the domain admin pages.
* destinationFilePath = the full path to where downloaded assets should be stored.
* includeOriginalServerAndPathInDestination = if this is true the files will be in domain related sub directories beneath destinationFilePath, otherwise they'll be directly in the root of destinationFilePath

## Attribution

* FBX parsing using https://github.com/UkooLabs/FBXSharpie